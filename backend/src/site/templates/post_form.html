<!DOCTYPE html>
<html>
<body>

<h2>Новый пост</h2>

<form id="postForm">
  <label for="title">Заголовок:</label><br>
  <input type="text" id="title" name="title"><br>
  <label for="content">Содержание:</label><br>
  <input type="text" id="content" name="content"><br>
  <input type="submit" value="Submit">
</form> 

<script>
document.getElementById('postForm').addEventListener('submit', function(event) {
  event.preventDefault()
  
  let title = document.getElementById('title').value
  let content = document.getElementById('content').value

  let data = {title: title, content: content}

  fetch('/post/create', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
  })
  .then(response => response.json())
  .then(data => {
    console.log(data) 
    window.location.href = "/"})
})
</script>

</body>
</html>
